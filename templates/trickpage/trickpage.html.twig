{% extends 'base.html.twig' %}

{% block body %}
	<div
		class="container bg-light rounded">

		{# Include Hero & Featured Image #}
		{% include 'trickpage/trickTemplate/_header.html.twig'with {'edit': false }  %}

		<div
			class="content-trick mt-4">
			{# --------------------Gallery links--------------------- #}
			
			{# On affiche le bouton media qui permet de load les media en responsive #}
			<section id="see-media">
				<div class="button-load-more text-center mb-5">
					{% if trick.videos is empty and trick.images is empty %}
						<p class="fw-bold"><h3>No Media </h3></p>
					{% else %}
						<a class="btn btn-sm rounded text-light bg-dark px-5 py-3" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
							See media
						</a>
					{% endif %}
				</div>
			</section>
			<section id="gallery">
				<div
					class="row  justify-content-center">
					{# Gallery of Media #}
					<div class="collapse" id="collapseExample">
						<div class="gallery-card">{% include 'trickpage/trickTemplate/_gallery.html.twig' with {'update': false }  %}</div>
					</div>
				</div>
			</section>

			{# Modal pour afficher les images #}
			{{ include("trickpage/trickTemplate/_modal.html.twig")}}

			{# --------------------------------END  GALLERY  ----------------------------------------- #}

			{# Section Contenu Trick && Button #}
			<section
				class="row mx-auto col-10 pb-5">
				{# Description Field && trick group #}
				{# {% include 'trickpage/trickTemplate/_content.html.twig' with {'page': 'show' } %} #}
				{% include 'trickpage/trickTemplate/_content.html.twig' with {'edit': false, 'update' : false } %}
			</section>
		</div>

		<!--Comment section -->
		<section class="mb-5 pb-2">
			{% include 'comment/comment_trick.html.twig' %}
		</section>
	</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
	var wraperComment = document.querySelectorAll('#comment');
	var button = document.querySelector('#load-more');
	var currentimg = 5
	var displayer = function(){
			for(var i = currentimg; i < currentimg +5; i++) {
				if(wraperComment[i]) {
					wraperComment[i].style.display = 'block';
				}
			}
			currentimg += 5;
			if(currentimg >=wraperComment.length){
			event.target.style.display ='none';
			}
		}
	displayer();
	button.addEventListener('click',displayer);
	});
</script>
{% endblock %}
